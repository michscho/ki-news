<!DOCTYPE html>
<html lang="de">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AI News Daily Pro</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Source+Sans+Pro:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary-color: #1a1a2e;
        --secondary-color: #16213e;
        --accent-color: #e94560;
        --accent-hover: #ff6b6b;
        --text-primary: #1a1a2e;
        --text-secondary: #4a4a68;
        --text-light: #8888a4;
        --bg-primary: #ffffff;
        --bg-secondary: #f8f9fa;
        --bg-tertiary: #eef0f5;
        --border-color: #e1e5eb;
        --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.1);
        --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.15);
        --transition: all 0.3s ease;
        --radius-sm: 4px;
        --radius-md: 8px;
        --radius-lg: 12px;
      }

      [data-theme="dark"] {
        --primary-color: #e8e8e8;
        --secondary-color: #c8c8c8;
        --text-primary: #f0f0f0;
        --text-secondary: #b0b0b0;
        --text-light: #888888;
        --bg-primary: #1a1a2e;
        --bg-secondary: #16213e;
        --bg-tertiary: #0f1525;
        --border-color: #2a2a4e;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Source Sans Pro", sans-serif;
        background-color: var(--bg-secondary);
        color: var(--text-primary);
        line-height: 1.6;
        transition: var(--transition);
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header */
      .main-header {
        background: var(--bg-primary);
        box-shadow: var(--shadow-sm);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .header-top {
        background: linear-gradient(135deg, var(--accent-color), #667eea);
        color: white;
        padding: 8px 0;
        font-size: 0.85rem;
      }

      .header-top .container {
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
      }

      .header-controls {
        display: flex;
        gap: 10px;
        align-items: center;
      }

      .icon-btn {
        background: rgba(255, 255, 255, 0.15);
        border: none;
        color: white;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.1rem;
      }

      .icon-btn:hover {
        background: rgba(255, 255, 255, 0.25);
        transform: scale(1.1);
      }

      .header-main {
        padding: 20px 0;
        text-align: center;
        border-bottom: 1px solid var(--border-color);
      }

      .logo {
        font-family: "Playfair Display", serif;
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--text-primary);
        letter-spacing: 2px;
      }

      .logo-badge {
        background: var(--accent-color);
        color: white;
        font-size: 0.6rem;
        padding: 2px 8px;
        border-radius: 10px;
        vertical-align: super;
        font-family: "Source Sans Pro", sans-serif;
      }

      .tagline {
        color: var(--text-light);
        font-size: 0.9rem;
        margin-top: 4px;
      }

      /* Navigation */
      .main-nav {
        background: var(--bg-primary);
        border-bottom: 3px solid var(--accent-color);
        overflow-x: auto;
      }

      .nav-list {
        display: flex;
        justify-content: center;
        list-style: none;
        gap: 0;
      }

      .nav-list a {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 12px 18px;
        color: var(--text-primary);
        text-decoration: none;
        font-weight: 600;
        transition: var(--transition);
        border-bottom: 3px solid transparent;
        margin-bottom: -3px;
        white-space: nowrap;
      }

      .nav-list a:hover,
      .nav-list a.active {
        color: var(--accent-color);
        border-bottom-color: var(--accent-color);
      }

      .nav-badge {
        background: var(--accent-color);
        color: white;
        font-size: 0.65rem;
        padding: 2px 6px;
        border-radius: 10px;
      }

      /* Topic Bar */
      .topic-bar {
        background: linear-gradient(
          135deg,
          #1a1a2e 0%,
          #16213e 50%,
          #0f3460 100%
        );
        padding: 30px 0;
      }

      .topic-input-wrapper {
        display: flex;
        gap: 12px;
        max-width: 900px;
        margin: 0 auto;
        flex-wrap: wrap;
      }

      .topic-input {
        flex: 1;
        min-width: 250px;
        padding: 14px 18px;
        font-size: 1rem;
        border: 2px solid transparent;
        border-radius: var(--radius-md);
        outline: none;
        transition: var(--transition);
      }

      .topic-input:focus {
        border-color: var(--accent-color);
        box-shadow: 0 0 0 3px rgba(233, 69, 96, 0.2);
      }

      .btn-group {
        display: flex;
        gap: 8px;
      }

      .generate-btn {
        background: var(--accent-color);
        color: white;
        border: none;
        padding: 14px 28px;
        font-size: 1rem;
        font-weight: 600;
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .generate-btn:hover:not(:disabled) {
        background: var(--accent-hover);
        transform: translateY(-2px);
        box-shadow: 0 4px 15px rgba(233, 69, 96, 0.4);
      }

      .generate-btn:disabled {
        opacity: 0.7;
        cursor: not-allowed;
      }

      .surprise-btn {
        background: rgba(255, 255, 255, 0.15);
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.3);
        padding: 14px 18px;
        font-size: 1rem;
        border-radius: var(--radius-md);
        cursor: pointer;
        transition: var(--transition);
      }

      .surprise-btn:hover {
        background: rgba(255, 255, 255, 0.25);
      }

      .quick-topics {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
        justify-content: center;
        margin-top: 15px;
      }

      .quick-topic {
        background: rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.9);
        border: 1px solid rgba(255, 255, 255, 0.2);
        padding: 6px 14px;
        border-radius: 20px;
        font-size: 0.85rem;
        cursor: pointer;
        transition: var(--transition);
      }

      .quick-topic:hover {
        background: rgba(255, 255, 255, 0.2);
        transform: translateY(-2px);
      }

      /* Breaking News */
      .breaking-news {
        background: linear-gradient(90deg, var(--accent-color), #ff6b6b);
        color: white;
        padding: 10px 0;
        overflow: hidden;
      }

      .breaking-news .container {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .breaking-label {
        background: white;
        color: var(--accent-color);
        padding: 4px 12px;
        font-weight: 700;
        font-size: 0.75rem;
        border-radius: var(--radius-sm);
        white-space: nowrap;
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
          transform: scale(1);
        }
        50% {
          opacity: 0.8;
          transform: scale(0.98);
        }
      }

      .ticker-text {
        flex: 1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      /* Stats Bar */
      .stats-bar {
        background: var(--bg-primary);
        border-bottom: 1px solid var(--border-color);
        padding: 10px 0;
      }

      .stats-container {
        display: flex;
        justify-content: center;
        gap: 30px;
        flex-wrap: wrap;
      }

      .stat-item {
        display: flex;
        align-items: center;
        gap: 8px;
        color: var(--text-secondary);
        font-size: 0.85rem;
      }

      .stat-value {
        font-weight: 700;
        color: var(--accent-color);
      }

      /* Main Content */
      .main-content {
        padding: 30px 0;
      }

      .content-grid {
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 25px;
      }

      /* Article Type Badges */
      .article-type-badge {
        position: absolute;
        top: 15px;
        right: 60px;
        padding: 4px 10px;
        border-radius: 15px;
        font-size: 0.7rem;
        font-weight: 600;
        text-transform: uppercase;
        z-index: 2;
      }

      .article-type-badge.interview {
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
      }

      .article-type-badge.analysis {
        background: linear-gradient(135deg, #f093fb, #f5576c);
        color: white;
      }

      .article-type-badge.report {
        background: linear-gradient(135deg, #4facfe, #00f2fe);
        color: white;
      }

      .article-type-badge.opinion {
        background: linear-gradient(135deg, #43e97b, #38f9d7);
        color: #1a1a2e;
      }

      .article-type-badge.breaking {
        background: linear-gradient(135deg, #fa709a, #fee140);
        color: #1a1a2e;
      }

      /* Article Cards */
      .article-card {
        background: var(--bg-primary);
        border-radius: var(--radius-lg);
        overflow: hidden;
        box-shadow: var(--shadow-sm);
        transition: var(--transition);
        position: relative;
      }

      .article-card:hover {
        box-shadow: var(--shadow-lg);
        transform: translateY(-4px);
      }

      .article-card.featured {
        grid-column: span 2;
      }

      .article-card.interview {
        border-left: 4px solid #667eea;
      }

      .article-card.analysis {
        border-left: 4px solid #f5576c;
      }

      .article-card.report {
        border-left: 4px solid #4facfe;
      }

      .article-card.opinion {
        border-left: 4px solid #43e97b;
      }

      .article-image {
        height: 250px;
        background: linear-gradient(
          135deg,
          var(--bg-tertiary),
          var(--bg-secondary)
        );
        position: relative;
        overflow: hidden;
      }

      .article-card.featured .article-image {
        height: 400px;
      }

      .article-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: var(--transition);
      }

      .article-card:hover .article-image img {
        transform: scale(1.05);
      }

      .image-placeholder {
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: var(--text-light);
        font-size: 3rem;
      }

      .image-credit {
        position: absolute;
        bottom: 8px;
        right: 8px;
        background: rgba(0, 0, 0, 0.6);
        color: white;
        font-size: 0.65rem;
        padding: 2px 6px;
        border-radius: 3px;
      }

      .article-badge {
        position: absolute;
        top: 15px;
        left: 15px;
        background: var(--accent-color);
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
        text-transform: uppercase;
        z-index: 2;
      }

      .article-badge.ai {
        background: linear-gradient(135deg, #667eea, #764ba2);
      }

      .bookmark-btn {
        position: absolute;
        top: 15px;
        right: 15px;
        background: rgba(255, 255, 255, 0.9);
        border: none;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        cursor: pointer;
        transition: var(--transition);
        z-index: 2;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .bookmark-btn:hover {
        background: white;
        transform: scale(1.1);
      }

      .bookmark-btn.active {
        background: var(--accent-color);
        color: white;
      }

      .article-content {
        padding: 20px;
      }

      .article-meta-top {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
        flex-wrap: wrap;
      }

      .category {
        background: var(--accent-color);
        color: white;
        padding: 3px 10px;
        font-size: 0.7rem;
        font-weight: 600;
        text-transform: uppercase;
        border-radius: var(--radius-sm);
      }

      .article-type {
        background: var(--bg-tertiary);
        color: var(--text-secondary);
        padding: 3px 10px;
        font-size: 0.7rem;
        font-weight: 600;
        border-radius: var(--radius-sm);
      }

      .reading-time {
        color: var(--text-light);
        font-size: 0.8rem;
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .article-title {
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
        line-height: 1.3;
        margin-bottom: 10px;
        color: var(--text-primary);
        cursor: pointer;
        transition: var(--transition);
      }

      .article-title:hover {
        color: var(--accent-color);
      }

      .article-card.featured .article-title {
        font-size: 2rem;
      }

      .article-teaser {
        color: var(--text-secondary);
        margin-bottom: 15px;
        line-height: 1.6;
        font-size: 0.95rem;
      }

      .article-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 15px;
        border-top: 1px solid var(--border-color);
      }

      .article-meta {
        display: flex;
        gap: 15px;
        color: var(--text-light);
        font-size: 0.8rem;
      }

      .article-actions {
        display: flex;
        gap: 8px;
      }

      .action-btn {
        background: var(--bg-tertiary);
        border: none;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.9rem;
      }

      .action-btn:hover {
        background: var(--accent-color);
        color: white;
      }

      /* Interview Quote Style */
      .interview-preview {
        background: var(--bg-tertiary);
        border-left: 3px solid #667eea;
        padding: 12px 15px;
        margin: 10px 0;
        font-style: italic;
        color: var(--text-secondary);
        border-radius: 0 var(--radius-sm) var(--radius-sm) 0;
      }

      .interview-preview .speaker {
        font-weight: 600;
        color: var(--text-primary);
        font-style: normal;
        display: block;
        margin-bottom: 5px;
      }

      /* Articles Grid */
      .articles-section {
        margin-bottom: 30px;
      }

      .section-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .section-title {
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .section-title::after {
        content: "";
        flex: 1;
        height: 2px;
        background: linear-gradient(90deg, var(--accent-color), transparent);
        margin-left: 15px;
      }

      .view-toggle {
        display: flex;
        gap: 5px;
      }

      .view-btn {
        background: var(--bg-tertiary);
        border: none;
        padding: 8px 12px;
        border-radius: var(--radius-sm);
        cursor: pointer;
        transition: var(--transition);
      }

      .view-btn.active {
        background: var(--accent-color);
        color: white;
      }

      .articles-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
        gap: 20px;
      }

      .articles-grid.list-view {
        grid-template-columns: 1fr;
      }

      .articles-grid.list-view .article-card {
        display: grid;
        grid-template-columns: 300px 1fr;
      }

      .articles-grid.list-view .article-image {
        height: 100%;
        min-height: 200px;
      }

      /* Sidebar */
      .sidebar {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }

      .sidebar-widget {
        background: var(--bg-primary);
        border-radius: var(--radius-md);
        padding: 20px;
        box-shadow: var(--shadow-sm);
      }

      .widget-title {
        font-size: 1rem;
        font-weight: 700;
        margin-bottom: 15px;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--accent-color);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      /* Expert Widget */
      .expert-card {
        display: flex;
        gap: 15px;
        padding: 15px 0;
        border-bottom: 1px solid var(--border-color);
      }

      .expert-card:last-child {
        border-bottom: none;
      }

      .expert-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        background: var(--bg-tertiary);
      }

      .expert-info {
        flex: 1;
      }

      .expert-name {
        font-weight: 600;
        margin-bottom: 2px;
      }

      .expert-role {
        font-size: 0.8rem;
        color: var(--text-light);
        margin-bottom: 5px;
      }

      .expert-quote {
        font-size: 0.85rem;
        font-style: italic;
        color: var(--text-secondary);
      }

      /* Trending Widget */
      .trending-list {
        list-style: none;
      }

      .trending-item {
        display: flex;
        gap: 12px;
        padding: 12px 0;
        border-bottom: 1px solid var(--border-color);
        cursor: pointer;
        transition: var(--transition);
      }

      .trending-item:hover {
        padding-left: 10px;
      }

      .trending-item:last-child {
        border-bottom: none;
      }

      .trend-rank {
        font-family: "Playfair Display", serif;
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--accent-color);
        min-width: 30px;
      }

      .trend-content {
        flex: 1;
      }

      .trend-title {
        font-size: 0.9rem;
        line-height: 1.4;
        margin-bottom: 4px;
      }

      .trend-meta {
        font-size: 0.75rem;
        color: var(--text-light);
      }

      /* Live Stats Widget */
      .live-indicator {
        display: flex;
        align-items: center;
        gap: 6px;
        color: #4caf50;
        font-size: 0.8rem;
        margin-bottom: 15px;
      }

      .live-dot {
        width: 8px;
        height: 8px;
        background: #4caf50;
        border-radius: 50%;
        animation: live-pulse 1.5s infinite;
      }

      @keyframes live-pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 15px;
      }

      .stat-box {
        text-align: center;
        padding: 15px;
        background: var(--bg-secondary);
        border-radius: var(--radius-sm);
      }

      .stat-box .value {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--accent-color);
      }

      .stat-box .label {
        font-size: 0.75rem;
        color: var(--text-light);
        margin-top: 4px;
      }

      /* Tags Widget */
      .tags-cloud {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .tag {
        background: var(--bg-secondary);
        padding: 6px 12px;
        border-radius: 20px;
        font-size: 0.8rem;
        cursor: pointer;
        transition: var(--transition);
      }

      .tag:hover {
        background: var(--accent-color);
        color: white;
      }

      /* Footer */
      .main-footer {
        background: var(--primary-color);
        color: white;
        padding: 50px 0 20px;
        margin-top: 50px;
      }

      [data-theme="dark"] .main-footer {
        background: #0a0a15;
      }

      .footer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 40px;
        margin-bottom: 40px;
      }

      .footer-section h4 {
        margin-bottom: 20px;
      }

      .footer-section p {
        color: rgba(255, 255, 255, 0.7);
        line-height: 1.7;
        font-size: 0.9rem;
      }

      .footer-section ul {
        list-style: none;
      }

      .footer-section ul li {
        margin-bottom: 10px;
      }

      .footer-section ul a {
        color: rgba(255, 255, 255, 0.7);
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-section ul a:hover {
        color: var(--accent-color);
      }

      .social-links {
        display: flex;
        gap: 10px;
      }

      .social-link {
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: var(--transition);
        text-decoration: none;
        font-size: 1.2rem;
      }

      .social-link:hover {
        background: var(--accent-color);
        transform: translateY(-3px);
      }

      .footer-bottom {
        text-align: center;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        color: rgba(255, 255, 255, 0.5);
        font-size: 0.85rem;
      }

      /* Modals */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        align-items: flex-start;
        justify-content: center;
        padding: 20px;
        overflow-y: auto;
        backdrop-filter: blur(5px);
      }

      .modal.active {
        display: flex;
      }

      .modal-content {
        background: var(--bg-primary);
        border-radius: var(--radius-lg);
        max-width: 600px;
        width: 100%;
        margin: 40px 0;
        animation: modalSlide 0.3s ease;
      }

      .article-modal-content {
        max-width: 900px;
      }

      @keyframes modalSlide {
        from {
          opacity: 0;
          transform: translateY(-30px) scale(0.95);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        border-bottom: 1px solid var(--border-color);
        position: sticky;
        top: 0;
        background: var(--bg-primary);
        z-index: 10;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
      }

      .modal-header h2 {
        font-size: 1.2rem;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .close-btn {
        background: var(--bg-tertiary);
        border: none;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        cursor: pointer;
        transition: var(--transition);
        font-size: 1.2rem;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .close-btn:hover {
        background: var(--accent-color);
        color: white;
      }

      .modal-body {
        padding: 25px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        font-weight: 600;
        margin-bottom: 8px;
        font-size: 0.9rem;
      }

      .form-group input,
      .form-group select,
      .form-group textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid var(--border-color);
        border-radius: var(--radius-sm);
        font-size: 0.95rem;
        transition: var(--transition);
        background: var(--bg-primary);
        color: var(--text-primary);
      }

      .form-group input:focus,
      .form-group select:focus,
      .form-group textarea:focus {
        border-color: var(--accent-color);
        outline: none;
      }

      .form-hint {
        font-size: 0.75rem;
        color: var(--text-light);
        margin-top: 6px;
      }

      .input-group {
        display: flex;
        gap: 8px;
      }

      .input-group input {
        flex: 1;
      }

      .input-group button {
        padding: 0 15px;
        background: var(--bg-tertiary);
        border: 2px solid var(--border-color);
        border-radius: var(--radius-sm);
        cursor: pointer;
        transition: var(--transition);
      }

      .input-group button:hover {
        background: var(--bg-secondary);
      }

      /* Tabs */
      .tabs {
        display: flex;
        border-bottom: 2px solid var(--border-color);
        margin-bottom: 20px;
      }

      .tab {
        padding: 12px 20px;
        background: none;
        border: none;
        cursor: pointer;
        font-weight: 600;
        color: var(--text-secondary);
        transition: var(--transition);
        position: relative;
      }

      .tab.active {
        color: var(--accent-color);
      }

      .tab.active::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 100%;
        height: 2px;
        background: var(--accent-color);
      }

      .tab-content {
        display: none;
      }

      .tab-content.active {
        display: block;
      }

      /* Toggle Switch */
      .toggle-group {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 0;
        border-bottom: 1px solid var(--border-color);
      }

      .toggle-label {
        display: flex;
        flex-direction: column;
      }

      .toggle-label span:first-child {
        font-weight: 600;
      }

      .toggle-label span:last-child {
        font-size: 0.8rem;
        color: var(--text-light);
      }

      .toggle-switch {
        position: relative;
        width: 50px;
        height: 26px;
      }

      .toggle-switch input {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .toggle-slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: var(--bg-tertiary);
        border-radius: 26px;
        transition: var(--transition);
      }

      .toggle-slider::before {
        content: "";
        position: absolute;
        height: 20px;
        width: 20px;
        left: 3px;
        bottom: 3px;
        background: white;
        border-radius: 50%;
        transition: var(--transition);
      }

      .toggle-switch input:checked + .toggle-slider {
        background: var(--accent-color);
      }

      .toggle-switch input:checked + .toggle-slider::before {
        transform: translateX(24px);
      }

      .modal-footer {
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        padding: 20px;
        border-top: 1px solid var(--border-color);
      }

      .btn {
        padding: 12px 24px;
        border-radius: var(--radius-sm);
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .btn-primary {
        background: var(--accent-color);
        color: white;
        border: none;
      }

      .btn-primary:hover {
        background: var(--accent-hover);
      }

      .btn-secondary {
        background: var(--bg-tertiary);
        color: var(--text-primary);
        border: 2px solid var(--border-color);
      }

      .btn-secondary:hover {
        background: var(--bg-secondary);
      }

      /* Article Modal - Extended Styles */
      .article-modal-hero {
        width: 100%;
        height: 400px;
        position: relative;
        overflow: hidden;
        border-radius: var(--radius-lg) var(--radius-lg) 0 0;
      }

      .article-modal-hero img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .article-modal-hero-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 40px 30px 30px;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.8));
        color: white;
      }

      .article-modal-type {
        display: inline-block;
        padding: 5px 12px;
        border-radius: 15px;
        font-size: 0.75rem;
        font-weight: 600;
        margin-bottom: 10px;
        text-transform: uppercase;
      }

      .article-modal-title {
        font-family: "Playfair Display", serif;
        font-size: 2.2rem;
        line-height: 1.2;
        margin-bottom: 15px;
      }

      .article-modal-meta {
        display: flex;
        gap: 20px;
        font-size: 0.9rem;
        flex-wrap: wrap;
        opacity: 0.9;
      }

      .article-modal-body {
        padding: 30px;
      }

      .article-lead {
        font-size: 1.2rem;
        font-weight: 600;
        color: var(--text-primary);
        line-height: 1.6;
        margin-bottom: 25px;
        padding-bottom: 25px;
        border-bottom: 2px solid var(--border-color);
      }

      .article-content-text {
        font-size: 1.05rem;
        line-height: 1.9;
        color: var(--text-secondary);
      }

      .article-content-text p {
        margin-bottom: 20px;
      }

      .article-content-text h3 {
        font-family: "Playfair Display", serif;
        font-size: 1.4rem;
        color: var(--text-primary);
        margin: 35px 0 15px;
      }

      /* Interview Styles in Modal */
      .interview-block {
        margin: 25px 0;
        padding: 20px;
        background: var(--bg-secondary);
        border-radius: var(--radius-md);
        border-left: 4px solid #667eea;
      }

      .interview-question {
        font-weight: 700;
        color: var(--text-primary);
        margin-bottom: 15px;
        display: flex;
        gap: 10px;
      }

      .interview-question::before {
        content: "F:";
        color: #667eea;
        font-weight: 700;
      }

      .interview-answer {
        color: var(--text-secondary);
        line-height: 1.8;
        display: flex;
        gap: 10px;
      }

      .interview-answer::before {
        content: "A:";
        color: var(--accent-color);
        font-weight: 700;
      }

      .interviewee-info {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 20px;
        background: linear-gradient(135deg, #667eea15, #764ba215);
        border-radius: var(--radius-md);
        margin-bottom: 25px;
      }

      .interviewee-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        object-fit: cover;
      }

      .interviewee-details h4 {
        font-size: 1.1rem;
        margin-bottom: 4px;
      }

      .interviewee-details p {
        font-size: 0.9rem;
        color: var(--text-light);
      }

      /* Quote Block */
      .quote-block {
        margin: 30px 0;
        padding: 25px 30px;
        background: linear-gradient(
          135deg,
          var(--accent-color) 10,
          var(--accent-color) 05
        );
        border-left: 4px solid var(--accent-color);
        border-radius: 0 var(--radius-md) var(--radius-md) 0;
      }

      .quote-block p {
        font-size: 1.15rem;
        font-style: italic;
        color: var(--text-primary);
        margin-bottom: 10px !important;
      }

      .quote-block cite {
        font-size: 0.9rem;
        color: var(--text-light);
        font-style: normal;
      }

      /* Info Box */
      .info-box {
        margin: 25px 0;
        padding: 20px;
        background: var(--bg-tertiary);
        border-radius: var(--radius-md);
      }

      .info-box-title {
        font-weight: 700;
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .info-box ul {
        margin-left: 20px;
      }

      .info-box li {
        margin-bottom: 8px;
      }

      /* Article Footer */
      .article-modal-footer {
        padding: 25px 30px;
        border-top: 1px solid var(--border-color);
        background: var(--bg-secondary);
      }

      .article-tags {
        margin-bottom: 20px;
      }

      .article-tags h4 {
        font-size: 0.9rem;
        margin-bottom: 10px;
      }

      .share-section h4 {
        font-size: 0.9rem;
        margin-bottom: 12px;
      }

      .share-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .share-btn {
        padding: 10px 16px;
        background: var(--bg-primary);
        border: 1px solid var(--border-color);
        border-radius: var(--radius-sm);
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 0.85rem;
      }

      .share-btn:hover {
        background: var(--accent-color);
        color: white;
        border-color: var(--accent-color);
      }

      /* Loading Overlay */
      .loading-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(26, 26, 46, 0.95);
        z-index: 2000;
        align-items: center;
        justify-content: center;
        backdrop-filter: blur(5px);
      }

      .loading-overlay.active {
        display: flex;
      }

      .loading-content {
        text-align: center;
        color: white;
      }

      .loading-animation {
        width: 80px;
        height: 80px;
        margin: 0 auto 25px;
        position: relative;
      }

      .loading-circle {
        position: absolute;
        width: 100%;
        height: 100%;
        border: 4px solid transparent;
        border-top-color: var(--accent-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      .loading-circle:nth-child(2) {
        width: 60px;
        height: 60px;
        top: 10px;
        left: 10px;
        border-top-color: #667eea;
        animation-duration: 0.8s;
        animation-direction: reverse;
      }

      .loading-circle:nth-child(3) {
        width: 40px;
        height: 40px;
        top: 20px;
        left: 20px;
        border-top-color: #764ba2;
        animation-duration: 0.6s;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .loading-text {
        font-size: 1.3rem;
        margin-bottom: 10px;
      }

      .loading-subtext {
        color: rgba(255, 255, 255, 0.6);
      }

      .loading-progress {
        width: 200px;
        height: 4px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 2px;
        margin: 20px auto 0;
        overflow: hidden;
      }

      .loading-progress-bar {
        height: 100%;
        background: var(--accent-color);
        border-radius: 2px;
        width: 0%;
        transition: width 0.3s ease;
      }

      /* Toast Notifications */
      .toast-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 3000;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }

      .toast {
        background: var(--bg-primary);
        color: var(--text-primary);
        padding: 15px 20px;
        border-radius: var(--radius-md);
        box-shadow: var(--shadow-lg);
        display: flex;
        align-items: center;
        gap: 12px;
        animation: toastSlide 0.4s ease;
        max-width: 350px;
        border-left: 4px solid var(--accent-color);
      }

      .toast.success {
        border-left-color: #4caf50;
      }

      .toast.error {
        border-left-color: var(--accent-color);
      }

      .toast.warning {
        border-left-color: #ff9800;
      }

      .toast-icon {
        font-size: 1.3rem;
      }

      .toast-content {
        flex: 1;
      }

      .toast-title {
        font-weight: 600;
        margin-bottom: 2px;
      }

      .toast-message {
        font-size: 0.85rem;
        color: var(--text-secondary);
      }

      .toast-close {
        background: none;
        border: none;
        cursor: pointer;
        color: var(--text-light);
        padding: 5px;
      }

      @keyframes toastSlide {
        from {
          opacity: 0;
          transform: translateX(100%);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }

      /* Responsive */
      @media (max-width: 1024px) {
        .content-grid {
          grid-template-columns: 1fr;
        }

        .sidebar {
          display: grid;
          grid-template-columns: repeat(2, 1fr);
          gap: 15px;
        }

        .article-card.featured {
          grid-column: span 1;
        }

        .articles-grid.list-view .article-card {
          grid-template-columns: 1fr;
        }

        .article-modal-title {
          font-size: 1.6rem;
        }
      }

      @media (max-width: 768px) {
        .logo {
          font-size: 1.8rem;
        }

        .topic-input-wrapper {
          flex-direction: column;
        }

        .btn-group {
          width: 100%;
        }

        .generate-btn {
          flex: 1;
        }

        .articles-grid {
          grid-template-columns: 1fr;
        }

        .sidebar {
          grid-template-columns: 1fr;
        }

        .header-top .container {
          flex-direction: column;
        }

        .stats-container {
          gap: 15px;
        }

        .modal-content {
          margin: 10px;
        }

        .article-modal-hero {
          height: 250px;
        }

        .article-modal-title {
          font-size: 1.3rem;
        }
      }
    </style>
  </head>
  <body data-theme="light">
    <!-- Header -->
    <header class="main-header">
      <div class="header-top">
        <div class="container">
          <span class="date" id="currentDate"></span>
          <div class="header-controls">
            <button class="icon-btn" id="themeToggle" title="Dark/Light Mode">
              üåô
            </button>
            <button class="icon-btn" id="settingsBtn" title="Einstellungen">
              ‚öôÔ∏è
            </button>
          </div>
        </div>
      </div>

      <div class="header-main">
        <div class="container">
          <h1 class="logo">
            AI NEWS DAILY <span class="logo-badge">PRO</span>
          </h1>
          <p class="tagline">
            Intelligente Nachrichten ‚Ä¢ KI-generiert ‚Ä¢ Immer aktuell
          </p>
        </div>
      </div>

      <nav class="main-nav">
        <div class="container">
          <ul class="nav-list">
            <li><a href="#" class="active">üè† Start</a></li>
            <li><a href="#">üèõÔ∏è Politik</a></li>
            <li><a href="#">üìà Wirtschaft</a></li>
            <li>
              <a href="#">üíª Tech <span class="nav-badge">Neu</span></a>
            </li>
            <li><a href="#">üî¨ Wissenschaft</a></li>
            <li><a href="#">‚öΩ Sport</a></li>
            <li><a href="#">üé≠ Kultur</a></li>
          </ul>
        </div>
      </nav>
    </header>

    <!-- Topic Bar -->
    <section class="topic-bar">
      <div class="container">
        <div class="topic-input-wrapper">
          <input
            type="text"
            id="topicInput"
            placeholder="üîç Thema eingeben (z.B. 'K√ºnstliche Intelligenz', 'Elektromobilit√§t')..."
            class="topic-input"
          />
          <div class="btn-group">
            <button class="generate-btn" id="generateBtn">
              <span class="btn-text">üöÄ Generieren</span>
              <span class="btn-loading" style="display: none">‚è≥ L√§dt...</span>
            </button>
            <button
              class="surprise-btn"
              id="surpriseBtn"
              title="Zuf√§lliges Thema"
            >
              üé≤
            </button>
          </div>
        </div>
        <div class="quick-topics">
          <button class="quick-topic" data-topic="K√ºnstliche Intelligenz">
            ü§ñ KI
          </button>
          <button class="quick-topic" data-topic="Klimawandel">üåç Klima</button>
          <button class="quick-topic" data-topic="Elektromobilit√§t">
            üöó E-Autos
          </button>
          <button class="quick-topic" data-topic="Kryptow√§hrungen">
            üí∞ Krypto
          </button>
          <button class="quick-topic" data-topic="Weltraumforschung">
            üöÄ Space
          </button>
          <button class="quick-topic" data-topic="Gesundheit und Medizin">
            üè• Medizin
          </button>
        </div>
      </div>
    </section>

    <!-- Breaking News -->
    <div class="breaking-news">
      <div class="container">
        <span class="breaking-label">‚ö° EILMELDUNG</span>
        <p class="ticker-text" id="breakingText">
          Willkommen bei AI News Daily Pro ‚Äì Konfigurieren Sie Ihren API-Key und
          geben Sie ein Thema ein
        </p>
      </div>
    </div>

    <!-- Stats Bar -->
    <div class="stats-bar" id="statsBar" style="display: none">
      <div class="container">
        <div class="stats-container">
          <div class="stat-item">
            <span>üì∞</span>
            <span
              ><span class="stat-value" id="statArticles">0</span> Artikel
              generiert</span
            >
          </div>
          <div class="stat-item">
            <span>‚è±Ô∏è</span>
            <span
              >Generiert in
              <span class="stat-value" id="statTime">0</span>s</span
            >
          </div>
          <div class="stat-item">
            <span>ü§ñ</span>
            <span
              >Modell: <span class="stat-value" id="statModel">-</span></span
            >
          </div>
          <div class="stat-item">
            <span>üì∑</span>
            <span
              ><span class="stat-value" id="statImages">0</span> Bilder von
              Unsplash</span
            >
          </div>
        </div>
      </div>
    </div>

    <!-- Main Content -->
    <main class="main-content">
      <div class="container">
        <div class="content-grid">
          <div class="main-articles">
            <!-- Featured Article -->
            <section class="articles-section">
              <div class="section-header">
                <h2 class="section-title">üìå Hauptnachricht</h2>
              </div>
              <article class="article-card featured" id="heroArticle">
                <div class="article-image">
                  <span class="article-badge ai">ü§ñ KI-Generiert</span>
                  <span class="article-type-badge report">Bericht</span>
                  <button class="bookmark-btn" data-index="0">üîñ</button>
                  <div class="image-placeholder">üì∞</div>
                </div>
                <div class="article-content">
                  <div class="article-meta-top">
                    <span class="category">Aktuell</span>
                    <span class="article-type">üìã Bericht</span>
                    <span class="reading-time">üìñ 8 Min.</span>
                  </div>
                  <h2 class="article-title" data-index="0">
                    Hier erscheint die Hauptschlagzeile Ihres generierten
                    Artikels
                  </h2>
                  <p class="article-teaser">
                    Dies ist der Teaser-Text f√ºr den Hauptartikel. Geben Sie ein
                    Thema ein und konfigurieren Sie Ihren API-Key, um
                    KI-generierte Nachrichten zu erhalten. Die Artikel werden
                    ausf√ºhrlich und informativ sein.
                  </p>
                  <div class="article-footer">
                    <div class="article-meta">
                      <span>üë§ AI Redakteur</span>
                      <span>üïê Gerade eben</span>
                    </div>
                    <div class="article-actions">
                      <button class="action-btn" title="Teilen">üì§</button>
                      <button class="action-btn" title="Vorlesen">üîä</button>
                    </div>
                  </div>
                </div>
              </article>
            </section>

            <!-- More Articles -->
            <section class="articles-section">
              <div class="section-header">
                <h2 class="section-title">üì∞ Weitere Nachrichten</h2>
                <div class="view-toggle">
                  <button class="view-btn active" data-view="grid">‚ñ¶</button>
                  <button class="view-btn" data-view="list">‚ò∞</button>
                </div>
              </div>
              <div class="articles-grid" id="articlesGrid">
                <!-- Article Cards will be dynamically generated -->
                <article class="article-card interview" id="article1">
                  <div class="article-image">
                    <span class="article-badge">Interview</span>
                    <span class="article-type-badge interview"
                      >üé§ Interview</span
                    >
                    <button class="bookmark-btn" data-index="1">üîñ</button>
                    <div class="image-placeholder">üéôÔ∏è</div>
                  </div>
                  <div class="article-content">
                    <div class="article-meta-top">
                      <span class="category">Interview</span>
                      <span class="article-type">üé§ Expertengespr√§ch</span>
                      <span class="reading-time">üìñ 12 Min.</span>
                    </div>
                    <h3 class="article-title" data-index="1">
                      Exklusives Interview mit f√ºhrenden Experten
                    </h3>
                    <div class="interview-preview">
                      <span class="speaker">Dr. Expert Name:</span>
                      "Platzhalter-Zitat aus dem Interview..."
                    </div>
                  </div>
                </article>

                <article class="article-card analysis" id="article2">
                  <div class="article-image">
                    <span class="article-badge">Analyse</span>
                    <span class="article-type-badge analysis">üìä Analyse</span>
                    <button class="bookmark-btn" data-index="2">üîñ</button>
                    <div class="image-placeholder">üìà</div>
                  </div>
                  <div class="article-content">
                    <div class="article-meta-top">
                      <span class="category">Analyse</span>
                      <span class="article-type">üìä Tiefenanalyse</span>
                      <span class="reading-time">üìñ 10 Min.</span>
                    </div>
                    <h3 class="article-title" data-index="2">
                      Hintergrundanalyse: Ursachen und Auswirkungen
                    </h3>
                    <p class="article-teaser">
                      Eine tiefgehende Analyse der aktuellen Entwicklungen und
                      ihrer Bedeutung.
                    </p>
                  </div>
                </article>

                <article class="article-card report" id="article3">
                  <div class="article-image">
                    <span class="article-badge">Bericht</span>
                    <span class="article-type-badge report">üìã Bericht</span>
                    <button class="bookmark-btn" data-index="3">üîñ</button>
                    <div class="image-placeholder">üî¨</div>
                  </div>
                  <div class="article-content">
                    <div class="article-meta-top">
                      <span class="category">Wissenschaft</span>
                      <span class="article-type">üìã Forschungsbericht</span>
                      <span class="reading-time">üìñ 7 Min.</span>
                    </div>
                    <h3 class="article-title" data-index="3">
                      Neue Erkenntnisse aus der Forschung
                    </h3>
                    <p class="article-teaser">
                      Platzhalter-Text f√ºr einen Forschungsbericht.
                    </p>
                  </div>
                </article>

                <article class="article-card opinion" id="article4">
                  <div class="article-image">
                    <span class="article-badge">Meinung</span>
                    <span class="article-type-badge opinion">üí≠ Meinung</span>
                    <button class="bookmark-btn" data-index="4">üîñ</button>
                    <div class="image-placeholder">üí¨</div>
                  </div>
                  <div class="article-content">
                    <div class="article-meta-top">
                      <span class="category">Meinung</span>
                      <span class="article-type">üí≠ Kommentar</span>
                      <span class="reading-time">üìñ 6 Min.</span>
                    </div>
                    <h3 class="article-title" data-index="4">
                      Kommentar: Was die Entwicklung f√ºr uns bedeutet
                    </h3>
                    <p class="article-teaser">
                      Eine Einsch√§tzung zu den aktuellen Geschehnissen.
                    </p>
                  </div>
                </article>

                <article class="article-card" id="article5">
                  <div class="article-image">
                    <span class="article-badge">Wirtschaft</span>
                    <button class="bookmark-btn" data-index="5">üîñ</button>
                    <div class="image-placeholder">üíº</div>
                  </div>
                  <div class="article-content">
                    <div class="article-meta-top">
                      <span class="category">Wirtschaft</span>
                      <span class="reading-time">üìñ 5 Min.</span>
                    </div>
                    <h3 class="article-title" data-index="5">
                      Wirtschaftliche Auswirkungen im Detail
                    </h3>
                    <p class="article-teaser">
                      Platzhalter-Text f√ºr einen Wirtschaftsartikel.
                    </p>
                  </div>
                </article>

                <article class="article-card interview" id="article6">
                  <div class="article-image">
                    <span class="article-badge">Interview</span>
                    <span class="article-type-badge interview"
                      >üé§ Interview</span
                    >
                    <button class="bookmark-btn" data-index="6">üîñ</button>
                    <div class="image-placeholder">üë§</div>
                  </div>
                  <div class="article-content">
                    <div class="article-meta-top">
                      <span class="category">Interview</span>
                      <span class="article-type">üé§ Gespr√§ch</span>
                      <span class="reading-time">üìñ 15 Min.</span>
                    </div>
                    <h3 class="article-title" data-index="6">
                      Im Gespr√§ch: Einblicke eines Insiders
                    </h3>
                    <div class="interview-preview">
                      <span class="speaker">Interviewpartner:</span>
                      "Platzhalter f√ºr ein Zitat..."
                    </div>
                  </div>
                </article>
              </div>
            </section>
          </div>

          <!-- Sidebar -->
          <aside class="sidebar">
            <!-- Expert Voices -->
            <div class="sidebar-widget">
              <h3 class="widget-title">üéôÔ∏è Expertenstimmen</h3>
              <div id="expertsList">
                <div class="expert-card">
                  <img
                    src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=100&h=100&fit=crop&crop=face"
                    alt="Expert"
                    class="expert-avatar"
                  />
                  <div class="expert-info">
                    <div class="expert-name">Dr. Beispiel Name</div>
                    <div class="expert-role">Experte f√ºr Technologie</div>
                    <div class="expert-quote">
                      "Zitat wird nach Generierung angezeigt..."
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Trending -->
            <div class="sidebar-widget">
              <h3 class="widget-title">üî• Trending</h3>
              <ul class="trending-list" id="trendingList">
                <li class="trending-item">
                  <span class="trend-rank">1</span>
                  <div class="trend-content">
                    <p class="trend-title">Trending Artikel Nummer eins</p>
                    <span class="trend-meta">üìà 2.4k Leser</span>
                  </div>
                </li>
                <li class="trending-item">
                  <span class="trend-rank">2</span>
                  <div class="trend-content">
                    <p class="trend-title">Trending Artikel Nummer zwei</p>
                    <span class="trend-meta">üìà 1.8k Leser</span>
                  </div>
                </li>
                <li class="trending-item">
                  <span class="trend-rank">3</span>
                  <div class="trend-content">
                    <p class="trend-title">Trending Artikel Nummer drei</p>
                    <span class="trend-meta">üìà 1.2k Leser</span>
                  </div>
                </li>
              </ul>
            </div>

            <!-- Live Stats -->
            <div class="sidebar-widget">
              <h3 class="widget-title">üìä Statistiken</h3>
              <div class="live-indicator">
                <span class="live-dot"></span>
                <span>Live</span>
              </div>
              <div class="stats-grid">
                <div class="stat-box">
                  <div class="value" id="widgetArticleCount">0</div>
                  <div class="label">Artikel</div>
                </div>
                <div class="stat-box">
                  <div class="value" id="widgetWordCount">0</div>
                  <div class="label">W√∂rter</div>
                </div>
                <div class="stat-box">
                  <div class="value" id="widgetInterviews">0</div>
                  <div class="label">Interviews</div>
                </div>
                <div class="stat-box">
                  <div class="value" id="widgetAnalyses">0</div>
                  <div class="label">Analysen</div>
                </div>
              </div>
            </div>

            <!-- Tags -->
            <div class="sidebar-widget">
              <h3 class="widget-title">üè∑Ô∏è Schlagworte</h3>
              <div class="tags-cloud" id="tagsCloud">
                <span class="tag">Technologie</span>
                <span class="tag">Politik</span>
                <span class="tag">Wirtschaft</span>
                <span class="tag">Wissenschaft</span>
                <span class="tag">Sport</span>
                <span class="tag">Kultur</span>
              </div>
            </div>
          </aside>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="main-footer">
      <div class="container">
        <div class="footer-grid">
          <div class="footer-section">
            <h4>AI NEWS DAILY</h4>
            <p>
              Eine Demo-Anwendung zur Generierung von KI-basierten
              Nachrichtenartikeln mit OpenAI GPT. Bilder bereitgestellt von
              Unsplash.
            </p>
            <div class="social-links" style="margin-top: 15px">
              <a href="#" class="social-link">üìò</a>
              <a href="#" class="social-link">üê¶</a>
              <a href="#" class="social-link">üì∏</a>
              <a href="#" class="social-link">üíº</a>
            </div>
          </div>
          <div class="footer-section">
            <h4>Artikeltypen</h4>
            <ul>
              <li><a href="#">üìã Berichte</a></li>
              <li><a href="#">üé§ Interviews</a></li>
              <li><a href="#">üìä Analysen</a></li>
              <li><a href="#">üí≠ Meinungen</a></li>
              <li><a href="#">‚ö° Eilmeldungen</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>Information</h4>
            <ul>
              <li><a href="#">√úber uns</a></li>
              <li><a href="#">Kontakt</a></li>
              <li><a href="#">API Dokumentation</a></li>
              <li><a href="#">Impressum</a></li>
              <li><a href="#">Datenschutz</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>Hinweis</h4>
            <p>
              ‚ö†Ô∏è Alle Artikel werden von KI generiert und k√∂nnen fiktive
              Informationen enthalten. Nicht als echte Nachrichtenquelle
              verwenden. Bilder von Unsplash.
            </p>
          </div>
        </div>
        <div class="footer-bottom">
          <p>
            ¬© 2024 AI News Daily Pro | Powered by OpenAI GPT | Images by
            Unsplash | Made with ‚ù§Ô∏è
          </p>
        </div>
      </div>
    </footer>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>‚öôÔ∏è Einstellungen</h2>
          <button class="close-btn" id="closeSettings">√ó</button>
        </div>
        <div class="modal-body">
          <div class="tabs">
            <button class="tab active" data-tab="api">üîë API</button>
            <button class="tab" data-tab="generation">‚ú® Generierung</button>
            <button class="tab" data-tab="display">üé® Anzeige</button>
          </div>

          <!-- API Tab -->
          <div class="tab-content active" id="tab-api">
            <div class="form-group">
              <label>OpenAI API Key</label>
              <div class="input-group">
                <input type="password" id="apiKey" placeholder="sk-..." />
                <button id="toggleApiKey">üëÅÔ∏è</button>
              </div>
              <p class="form-hint">
                ‚ö†Ô∏è Key wird nur im Arbeitsspeicher gespeichert
              </p>
            </div>
            <div class="form-group">
              <label>Modell</label>
              <select id="modelSelect">
                <option value="gpt-4-turbo">
                  GPT-4 Turbo (Max Token: 128.000, Sehr gut, Mittel)
                </option>
                <option value="gpt-4" selected>GPT-4 (Beste Qualit√§t)</option>
                <option value="gpt-4o">
                  GPT-4o (Max Token: 128.000, Beste, Mittel)
                </option>
              </select>
            </div>
            <button
              class="btn btn-secondary"
              id="testApiBtn"
              style="width: 100%"
            >
              üîç API-Verbindung testen
            </button>
          </div>

          <!-- Generation Tab -->
          <div class="tab-content" id="tab-generation">
            <div class="form-group">
              <label>Schreibstil</label>
              <select id="styleSelect">
                <option value="formal">üì∞ Seri√∂s / Formell</option>
                <option value="casual">üí¨ Modern / Locker</option>
                <option value="tabloid">üì¢ Boulevard / Rei√üerisch</option>
                <option value="scientific">üî¨ Wissenschaftlich</option>
              </select>
            </div>
            <div class="form-group">
              <label
                >Anzahl Artikel: <span id="articleCountValue">7</span></label
              >
              <input
                type="range"
                id="articleCount"
                min="5"
                max="12"
                value="7"
              />
            </div>
            <div class="form-group">
              <label>Artikell√§nge</label>
              <select id="lengthSelect">
                <option value="medium">Mittel (4-5 Abs√§tze)</option>
                <option value="long" selected>Lang (6-8 Abs√§tze)</option>
                <option value="extended">Sehr lang (10+ Abs√§tze)</option>
              </select>
            </div>
            <div class="form-group">
              <label>Artikeltypen</label>
              <div style="display: flex; flex-direction: column; gap: 8px">
                <label style="display: flex; align-items: center; gap: 8px">
                  <input type="checkbox" id="includeInterviews" checked />
                  üé§ Interviews einbeziehen
                </label>
                <label style="display: flex; align-items: center; gap: 8px">
                  <input type="checkbox" id="includeAnalyses" checked />
                  üìä Analysen einbeziehen
                </label>
                <label style="display: flex; align-items: center; gap: 8px">
                  <input type="checkbox" id="includeOpinions" checked />
                  üí≠ Meinungsbeitr√§ge einbeziehen
                </label>
              </div>
            </div>
          </div>

          <!-- Display Tab -->
          <div class="tab-content" id="tab-display">
            <div class="toggle-group">
              <div class="toggle-label">
                <span>üåô Dark Mode</span>
                <span>Dunkles Farbschema aktivieren</span>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="darkModeToggle" />
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="toggle-group">
              <div class="toggle-label">
                <span>üñºÔ∏è Unsplash Bilder</span>
                <span>Automatisch passende Bilder laden</span>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="unsplashToggle" checked />
                <span class="toggle-slider"></span>
              </label>
            </div>
            <div class="toggle-group">
              <div class="toggle-label">
                <span>üîî Benachrichtigungen</span>
                <span>Toast-Meldungen anzeigen</span>
              </div>
              <label class="toggle-switch">
                <input type="checkbox" id="notificationsToggle" checked />
                <span class="toggle-slider"></span>
              </label>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="resetSettings">
            üîÑ Zur√ºcksetzen
          </button>
          <button class="btn btn-primary" id="saveSettings">
            üíæ Speichern
          </button>
        </div>
      </div>
    </div>

    <!-- Article Modal -->
    <div class="modal" id="articleModal">
      <div class="modal-content article-modal-content">
        <div class="article-modal-hero" id="modalHero">
          <img
            src=""
            alt="Article Image"
            id="modalHeroImage"
            style="display: none"
          />
          <div
            class="image-placeholder"
            id="modalHeroPlaceholder"
            style="
              height: 100%;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 5rem;
              background: linear-gradient(135deg, #667eea, #764ba2);
            "
          >
            üì∞
          </div>
          <div class="article-modal-hero-overlay">
            <span class="article-modal-type" id="modalType">Bericht</span>
            <h1 class="article-modal-title" id="modalTitle">Artikel Titel</h1>
            <div class="article-modal-meta">
              <span>üë§ <span id="modalAuthor">AI Redakteur</span></span>
              <span id="modalDate">üìÖ Heute</span>
              <span id="modalReadingTime">üìñ 10 Min. Lesezeit</span>
            </div>
          </div>
          <button
            class="close-btn"
            id="closeArticle"
            style="
              position: absolute;
              top: 15px;
              right: 15px;
              background: rgba(255, 255, 255, 0.9);
            "
          >
            √ó
          </button>
        </div>

        <div class="article-modal-body">
          <p class="article-lead" id="modalLead">
            Der Einleitungstext des Artikels erscheint hier...
          </p>

          <div class="article-content-text" id="modalContent">
            <p>Artikel-Inhalt wird hier angezeigt...</p>
          </div>
        </div>

        <div class="article-modal-footer">
          <div class="article-tags">
            <h4>üè∑Ô∏è Schlagworte</h4>
            <div class="tags-cloud" id="modalTags">
              <span class="tag">Tag 1</span>
              <span class="tag">Tag 2</span>
            </div>
          </div>
          <div class="share-section" style="margin-top: 20px">
            <h4>üì§ Artikel teilen</h4>
            <div class="share-buttons">
              <button class="share-btn" onclick="copyArticle()">
                üìã Kopieren
              </button>
              <button class="share-btn">üê¶ Twitter</button>
              <button class="share-btn">üìò Facebook</button>
              <button class="share-btn">üíº LinkedIn</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
      <div class="loading-content">
        <div class="loading-animation">
          <div class="loading-circle"></div>
          <div class="loading-circle"></div>
          <div class="loading-circle"></div>
        </div>
        <p class="loading-text">KI generiert Ihre News...</p>
        <p class="loading-subtext" id="loadingStatus">Verbinde mit OpenAI...</p>
        <div class="loading-progress">
          <div class="loading-progress-bar" id="loadingProgress"></div>
        </div>
      </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script>
      // ================================
      // State Management
      // ================================
      const state = {
        apiKey: "",
        model: "gpt-4",
        style: "formal",
        articleCount: 7,
        articleLength: "long",
        darkMode: false,
        showNotifications: true,
        useUnsplash: true,
        includeInterviews: true,
        includeAnalyses: true,
        includeOpinions: true,
        articles: [],
        experts: [],
        bookmarks: new Set(),
        topicsHistory: [],
        isGenerating: false,
        generationTime: 0,
        imageCount: 0,
      };

      const surpriseTopics = [
        "Quantencomputer Durchbruch 2024",
        "Mars Kolonisierung und SpaceX",
        "Autonomes Fahren in Deutschland",
        "Erneuerbare Energien Revolution",
        "KI in der Medizin und Diagnostik",
        "Virtual Reality im Alltag",
        "Blockchain und Web3 Zukunft",
        "Biotechnologie und Gentherapie",
        "Smart Cities der Zukunft",
        "Nachhaltigkeit im Unternehmen",
      ];

      const articleTypes = [
        {
          type: "report",
          label: "Bericht",
          icon: "üìã",
          class: "report",
          color: "#4facfe",
        },
        {
          type: "interview",
          label: "Interview",
          icon: "üé§",
          class: "interview",
          color: "#667eea",
        },
        {
          type: "analysis",
          label: "Analyse",
          icon: "üìä",
          class: "analysis",
          color: "#f5576c",
        },
        {
          type: "opinion",
          label: "Meinung",
          icon: "üí≠",
          class: "opinion",
          color: "#43e97b",
        },
        {
          type: "breaking",
          label: "Eilmeldung",
          icon: "‚ö°",
          class: "breaking",
          color: "#fa709a",
        },
      ];

      // ================================
      // Initialize
      // ================================
      function init() {
        setCurrentDate();
        bindEvents();
        applyTheme();
        updateStats();
      }

      function setCurrentDate() {
        const options = {
          weekday: "long",
          year: "numeric",
          month: "long",
          day: "numeric",
        };
        document.getElementById("currentDate").textContent =
          new Date().toLocaleDateString("de-DE", options);
      }

      // ================================
      // Event Bindings
      // ================================
      function bindEvents() {
        // Theme Toggle
        document
          .getElementById("themeToggle")
          .addEventListener("click", toggleTheme);
        document
          .getElementById("darkModeToggle")
          .addEventListener("change", (e) => {
            state.darkMode = e.target.checked;
            applyTheme();
          });

        // Settings Modal
        document
          .getElementById("settingsBtn")
          .addEventListener("click", () => openModal("settingsModal"));
        document
          .getElementById("closeSettings")
          .addEventListener("click", () => closeModal("settingsModal"));

        // Tabs
        document.querySelectorAll(".tab").forEach((tab) => {
          tab.addEventListener("click", () => switchTab(tab.dataset.tab));
        });

        // API Key
        document
          .getElementById("toggleApiKey")
          .addEventListener("click", () => {
            const input = document.getElementById("apiKey");
            input.type = input.type === "password" ? "text" : "password";
          });

        document
          .getElementById("testApiBtn")
          .addEventListener("click", testApiConnection);

        // Settings Controls
        document
          .getElementById("articleCount")
          .addEventListener("input", (e) => {
            document.getElementById("articleCountValue").textContent =
              e.target.value;
          });

        document
          .getElementById("saveSettings")
          .addEventListener("click", saveSettings);
        document
          .getElementById("resetSettings")
          .addEventListener("click", resetSettings);

        // Generate News
        document
          .getElementById("generateBtn")
          .addEventListener("click", generateNews);
        document
          .getElementById("topicInput")
          .addEventListener("keypress", (e) => {
            if (e.key === "Enter") generateNews();
          });

        // Surprise Button
        document.getElementById("surpriseBtn").addEventListener("click", () => {
          const topic =
            surpriseTopics[Math.floor(Math.random() * surpriseTopics.length)];
          document.getElementById("topicInput").value = topic;
          showToast("üé≤ Zuf√§lliges Thema", topic, "info");
        });

        // Quick Topics
        document.querySelectorAll(".quick-topic").forEach((btn) => {
          btn.addEventListener("click", () => {
            document.getElementById("topicInput").value = btn.dataset.topic;
            generateNews();
          });
        });

        // View Toggle
        document.querySelectorAll(".view-btn").forEach((btn) => {
          btn.addEventListener("click", () => {
            document
              .querySelectorAll(".view-btn")
              .forEach((b) => b.classList.remove("active"));
            btn.classList.add("active");
            const grid = document.getElementById("articlesGrid");
            grid.classList.toggle("list-view", btn.dataset.view === "list");
          });
        });

        // Article Titles
        document.querySelectorAll(".article-title").forEach((title) => {
          title.addEventListener("click", () => {
            const index = parseInt(title.dataset.index);
            openArticle(index);
          });
        });

        // Bookmark Buttons
        document.querySelectorAll(".bookmark-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            e.stopPropagation();
            toggleBookmark(parseInt(btn.dataset.index));
            btn.classList.toggle("active");
          });
        });

        // Article Modal
        document
          .getElementById("closeArticle")
          .addEventListener("click", () => closeModal("articleModal"));

        // Close modals on outside click
        document.querySelectorAll(".modal").forEach((modal) => {
          modal.addEventListener("click", (e) => {
            if (e.target === modal) closeModal(modal.id);
          });
        });

        // Keyboard shortcuts
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") {
            document
              .querySelectorAll(".modal.active")
              .forEach((modal) => closeModal(modal.id));
          }
          if (e.key === "d" && e.ctrlKey) {
            e.preventDefault();
            toggleTheme();
          }
        });
      }

      // ================================
      // Theme Functions
      // ================================
      function toggleTheme() {
        state.darkMode = !state.darkMode;
        document.getElementById("darkModeToggle").checked = state.darkMode;
        applyTheme();
      }

      function applyTheme() {
        document.body.dataset.theme = state.darkMode ? "dark" : "light";
        document.getElementById("themeToggle").textContent = state.darkMode
          ? "‚òÄÔ∏è"
          : "üåô";
      }

      // ================================
      // Modal & Tab Functions
      // ================================
      function openModal(modalId) {
        document.getElementById(modalId).classList.add("active");
        document.body.style.overflow = "hidden";
      }

      function closeModal(modalId) {
        document.getElementById(modalId).classList.remove("active");
        document.body.style.overflow = "";
      }

      function switchTab(tabId) {
        document
          .querySelectorAll(".tab")
          .forEach((t) => t.classList.remove("active"));
        document
          .querySelectorAll(".tab-content")
          .forEach((c) => c.classList.remove("active"));
        document
          .querySelector(`.tab[data-tab="${tabId}"]`)
          .classList.add("active");
        document.getElementById(`tab-${tabId}`).classList.add("active");
      }

      // ================================
      // Settings Functions
      // ================================
      function saveSettings() {
        state.apiKey = document.getElementById("apiKey").value.trim();
        state.model = document.getElementById("modelSelect").value;
        state.style = document.getElementById("styleSelect").value;
        state.articleCount = parseInt(
          document.getElementById("articleCount").value
        );
        state.articleLength = document.getElementById("lengthSelect").value;
        state.showNotifications = document.getElementById(
          "notificationsToggle"
        ).checked;
        state.useUnsplash = document.getElementById("unsplashToggle").checked;
        state.includeInterviews =
          document.getElementById("includeInterviews").checked;
        state.includeAnalyses =
          document.getElementById("includeAnalyses").checked;
        state.includeOpinions =
          document.getElementById("includeOpinions").checked;

        showToast(
          "‚úÖ Gespeichert",
          "Einstellungen wurden √ºbernommen",
          "success"
        );
        closeModal("settingsModal");
      }

      function resetSettings() {
        document.getElementById("modelSelect").value = "gpt-4";
        document.getElementById("styleSelect").value = "formal";
        document.getElementById("articleCount").value = 7;
        document.getElementById("articleCountValue").textContent = "7";
        document.getElementById("lengthSelect").value = "long";
        showToast(
          "üîÑ Zur√ºckgesetzt",
          "Standardeinstellungen wiederhergestellt",
          "info"
        );
      }

      async function testApiConnection() {
        const apiKey = document.getElementById("apiKey").value.trim();
        if (!apiKey) {
          showToast("‚ö†Ô∏è Fehler", "Bitte API-Key eingeben", "warning");
          return;
        }

        const btn = document.getElementById("testApiBtn");
        btn.disabled = true;
        btn.textContent = "‚è≥ Teste...";

        try {
          const response = await fetch("https://api.openai.com/v1/models", {
            headers: { Authorization: `Bearer ${apiKey}` },
          });

          if (response.ok) {
            showToast("‚úÖ Erfolg", "API-Verbindung hergestellt", "success");
          } else {
            throw new Error("Invalid key");
          }
        } catch (error) {
          showToast("‚ùå Fehler", "API-Key ung√ºltig", "error");
        }

        btn.disabled = false;
        btn.textContent = "üîç API-Verbindung testen";
      }

      // ================================
      // Unsplash Image Functions
      // ================================
      function getUnsplashImage(query, width = 800, height = 600) {
        // Using Unsplash Source API for random relevant images
        const encodedQuery = encodeURIComponent(query);
        return `https://source.unsplash.com/${width}x${height}/?${encodedQuery}`;
      }

      function getUnsplashImageWithId(query, seed) {
        // Using random seed to get consistent but different images
        const encodedQuery = encodeURIComponent(query);
        return `https://source.unsplash.com/800x600/?${encodedQuery}&sig=${seed}`;
      }

      // ================================
      // News Generation
      // ================================
      async function generateNews() {
        const topic = document.getElementById("topicInput").value.trim();

        if (!topic) {
          showToast("‚ö†Ô∏è Thema fehlt", "Bitte ein Thema eingeben", "warning");
          return;
        }

        if (!state.apiKey) {
          showToast(
            "üîë API-Key fehlt",
            "Bitte in Einstellungen konfigurieren",
            "warning"
          );
          openModal("settingsModal");
          return;
        }

        if (state.isGenerating) return;

        state.isGenerating = true;
        const startTime = Date.now();

        showLoading(true);

        try {
          updateLoadingStatus("Analysiere Thema...", 10);
          await delay(300);

          updateLoadingStatus("Generiere diverse Artikel...", 25);
          const result = await callOpenAI(topic);

          updateLoadingStatus("Lade Bilder von Unsplash...", 60);
          await loadImages(result.articles, topic);

          updateLoadingStatus("Formatiere Inhalte...", 85);
          await delay(200);

          displayArticles(result.articles);
          displayExperts(result.experts);

          updateLoadingStatus("Abgeschlossen!", 100);
          await delay(300);

          state.generationTime = ((Date.now() - startTime) / 1000).toFixed(1);
          state.topicsHistory.push(topic);
          updateStats();

          showToast(
            "‚úÖ Fertig!",
            `${result.articles.length} Artikel generiert`,
            "success"
          );
        } catch (error) {
          console.error(error);
          showToast("‚ùå Fehler", error.message, "error");
        }

        state.isGenerating = false;
        showLoading(false);
      }

      async function callOpenAI(topic) {
        const lengthInstructions = {
          medium:
            "4-5 ausf√ºhrliche Abs√§tze pro Artikel (mindestens 300 W√∂rter)",
          long: "6-8 sehr ausf√ºhrliche Abs√§tze pro Artikel (mindestens 500 W√∂rter)",
          extended:
            "10-12 umfassende Abs√§tze pro Artikel (mindestens 800 W√∂rter)",
        };

        const styleInstructions = {
          formal: "seri√∂sen, formellen Nachrichtenstil wie bei der FAZ",
          casual:
            "modernen, lockeren aber informativen Stil wie bei einem Online-Magazin",
          tabloid: "rei√üerischen Boulevard-Stil mit emotionaler Ansprache",
          scientific:
            "wissenschaftlich-pr√§zisen Stil mit Quellenangaben und Fachbegriffen",
        };

        // Build article types to include
        const typesToInclude = ["report"];
        if (state.includeInterviews) typesToInclude.push("interview");
        if (state.includeAnalyses) typesToInclude.push("analysis");
        if (state.includeOpinions) typesToInclude.push("opinion");

        const prompt = `Generiere ${
          state.articleCount
        } diverse und ausf√ºhrliche Nachrichtenartikel zum Thema "${topic}".

WICHTIG - ARTIKELTYPEN (verwende diese Vielfalt):
${
  typesToInclude.includes("report")
    ? '- "report": Klassischer Nachrichtenbericht mit Fakten und Hintergr√ºnden'
    : ""
}
${
  typesToInclude.includes("interview")
    ? '- "interview": Fiktives Interview mit einem Experten (mit Fragen und Antworten im Dialog-Format)'
    : ""
}
${
  typesToInclude.includes("analysis")
    ? '- "analysis": Tiefgehende Analyse mit Einordnung und Prognosen'
    : ""
}
${
  typesToInclude.includes("opinion")
    ? '- "opinion": Meinungsbeitrag/Kommentar mit klarer Haltung'
    : ""
}

STIL: ${styleInstructions[state.style]}
L√ÑNGE: ${lengthInstructions[state.articleLength]}

WICHTIGE ANFORDERUNGEN:
1. Jeder Artikel muss SEHR ausf√ºhrlich sein (${
          state.articleLength === "extended"
            ? "800+"
            : state.articleLength === "long"
            ? "500+"
            : "300+"
        } W√∂rter)
2. Bei INTERVIEWS: Verwende ein echtes Frage-Antwort-Format mit mindestens 5-7 Fragen
3. Erstelle fiktive aber realistische Expertennamen und Positionen
4. F√ºge Zwischen√ºberschriften ein (mit ### markiert)
5. Inkludiere relevante Zitate
6. Gib Suchbegriffe f√ºr Unsplash-Bilder an (englisch, 2-3 W√∂rter)

Antworte NUR mit diesem JSON-Format:
{
    "articles": [
        {
            "type": "report|interview|analysis|opinion",
            "title": "Aussagekr√§ftige √úberschrift (max 100 Zeichen)",
            "teaser": "Neugierig machender Teaser (max 150 Zeichen)",
            "lead": "Einleitender Absatz der die wichtigsten Fakten zusammenfasst (2-3 S√§tze)",
            "content": "Der vollst√§ndige, ausf√ºhrliche Artikeltext mit ### f√ºr Zwischen√ºberschriften. Bei Interviews: Verwende 'F: Frage' und 'A: Antwort' Format.",
            "category": "Passende Kategorie",
            "emoji": "Passendes Emoji",
            "tags": ["tag1", "tag2", "tag3", "tag4"],
            "imageQuery": "englische Suchbegriffe f√ºr Unsplash",
            "author": "Fiktiver Autorenname",
            "interviewee": {
                "name": "Name des Interviewpartners (nur bei interviews)",
                "role": "Position/Titel",
                "quote": "Markantes Zitat aus dem Interview"
            }
        }
    ],
    "experts": [
        {
            "name": "Dr. Expertenname",
            "role": "Position und Institution",
            "quote": "Kurzes pr√§gnantes Zitat zum Thema",
            "imageQuery": "professional portrait"
        }
    ],
    "breakingNews": "Eilmeldung zum Thema (max 100 Zeichen)"
}`;

        const response = await fetch(
          "https://api.openai.com/v1/chat/completions",
          {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              Authorization: `Bearer ${state.apiKey}`,
            },
            body: JSON.stringify({
              model: state.model,
              messages: [
                {
                  role: "system",
                  content:
                    "Du bist ein erfahrener Nachrichtenredakteur, der ausf√ºhrliche, gut recherchierte Artikel schreibt. Du erstellst verschiedene Artikelformate und achtest auf journalistische Qualit√§t. Antworte ausschlie√ülich mit validem JSON.",
                },
                { role: "user", content: prompt },
              ],
              temperature: 0.85,
              max_tokens: 128000,
            }),
          }
        );

        if (!response.ok) {
          const error = await response.json();
          throw new Error(error.error?.message || "API-Fehler");
        }

        const data = await response.json();
        const content = data.choices[0].message.content;

        const jsonMatch = content.match(/\{[\s\S]*\}/);
        if (jsonMatch) {
          const parsed = JSON.parse(jsonMatch[0]);
          state.articles = parsed.articles;
          state.experts = parsed.experts || [];

          if (parsed.breakingNews) {
            document.getElementById("breakingText").textContent =
              parsed.breakingNews;
          }

          return parsed;
        }

        throw new Error("Ung√ºltige Antwort vom Server");
      }

      async function loadImages(articles, topic) {
        if (!state.useUnsplash) return;

        state.imageCount = 0;

        for (let i = 0; i < articles.length; i++) {
          const article = articles[i];
          const query = article.imageQuery || topic;
          article.imageUrl = getUnsplashImageWithId(query, i + Date.now());
          state.imageCount++;
        }
      }

      function displayArticles(articles) {
        // Hero Article (first report or first article)
        const heroArticle =
          articles.find((a) => a.type === "report") || articles[0];
        if (heroArticle) {
          updateHeroArticle(heroArticle);
        }

        // Regenerate article grid
        const grid = document.getElementById("articlesGrid");
        grid.innerHTML = "";

        const otherArticles = articles.filter((a) => a !== heroArticle);

        otherArticles.forEach((article, index) => {
          const card = createArticleCard(article, index + 1);
          grid.appendChild(card);
        });

        // Rebind click events
        document.querySelectorAll(".article-title").forEach((title) => {
          title.addEventListener("click", () => {
            const index = parseInt(title.dataset.index);
            openArticle(index);
          });
        });

        document.querySelectorAll(".bookmark-btn").forEach((btn) => {
          btn.addEventListener("click", (e) => {
            e.stopPropagation();
            toggleBookmark(parseInt(btn.dataset.index));
            btn.classList.toggle("active");
          });
        });

        // Update trending
        updateTrending(articles);

        // Update tags
        updateTags(articles);

        // Show stats bar
        document.getElementById("statsBar").style.display = "block";
        document.getElementById("statArticles").textContent = articles.length;
        document.getElementById("statTime").textContent = state.generationTime;
        document.getElementById("statModel").textContent =
          state.model.toUpperCase();
        document.getElementById("statImages").textContent = state.imageCount;
      }

      function updateHeroArticle(article) {
        const el = document.getElementById("heroArticle");

        // Update image
        const imageContainer = el.querySelector(".article-image");
        if (state.useUnsplash && article.imageUrl) {
          imageContainer.innerHTML = `
                    <span class="article-badge ai">ü§ñ KI-Generiert</span>
                    <span class="article-type-badge ${article.type}">${
            getArticleTypeInfo(article.type).icon
          } ${getArticleTypeInfo(article.type).label}</span>
                    <button class="bookmark-btn" data-index="0">üîñ</button>
                    <img src="${article.imageUrl}" alt="${
            article.title
          }" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="image-placeholder" style="display:none;">${
                      article.emoji || "üì∞"
                    }</div>
                    <span class="image-credit">üì∑ Unsplash</span>
                `;
        } else {
          imageContainer.innerHTML = `
                    <span class="article-badge ai">ü§ñ KI-Generiert</span>
                    <span class="article-type-badge ${article.type}">${
            getArticleTypeInfo(article.type).icon
          } ${getArticleTypeInfo(article.type).label}</span>
                    <button class="bookmark-btn" data-index="0">üîñ</button>
                    <div class="image-placeholder">${
                      article.emoji || "üì∞"
                    }</div>
                `;
        }

        // Update content
        el.querySelector(".category").textContent = article.category;
        el.querySelector(".article-type").textContent = `${
          getArticleTypeInfo(article.type).icon
        } ${getArticleTypeInfo(article.type).label}`;

        const title = el.querySelector(".article-title");
        title.textContent = article.title;
        title.dataset.index = "0";

        el.querySelector(".article-teaser").textContent =
          article.teaser || article.lead;

        // Update reading time
        const words = article.content.split(" ").length;
        el.querySelector(".reading-time").textContent = `üìñ ${Math.max(
          1,
          Math.ceil(words / 200)
        )} Min.`;

        el.querySelector(".article-meta").innerHTML = `
                <span>üë§ ${article.author || "AI Redakteur"}</span>
                <span>üïê Gerade eben</span>
            `;
      }

      function createArticleCard(article, index) {
        const typeInfo = getArticleTypeInfo(article.type);
        const words = article.content.split(" ").length;
        const readingTime = Math.max(1, Math.ceil(words / 200));

        const card = document.createElement("article");
        card.className = `article-card ${article.type}`;
        card.id = `article${index}`;

        let previewContent = "";
        if (article.type === "interview" && article.interviewee) {
          previewContent = `
                    <div class="interview-preview">
                        <span class="speaker">${
                          article.interviewee.name
                        }:</span>
                        "${article.interviewee.quote || article.teaser}"
                    </div>
                `;
        } else {
          previewContent = `<p class="article-teaser">${article.teaser}</p>`;
        }

        let imageHtml = "";
        if (state.useUnsplash && article.imageUrl) {
          imageHtml = `
                    <img src="${article.imageUrl}" alt="${
            article.title
          }" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';">
                    <div class="image-placeholder" style="display:none;">${
                      article.emoji || "üì∞"
                    }</div>
                    <span class="image-credit">üì∑ Unsplash</span>
                `;
        } else {
          imageHtml = `<div class="image-placeholder">${
            article.emoji || "üì∞"
          }</div>`;
        }

        card.innerHTML = `
                <div class="article-image">
                    <span class="article-badge">${article.category}</span>
                    <span class="article-type-badge ${article.type}">${
          typeInfo.icon
        } ${typeInfo.label}</span>
                    <button class="bookmark-btn" data-index="${index}">üîñ</button>
                    ${imageHtml}
                </div>
                <div class="article-content">
                    <div class="article-meta-top">
                        <span class="category">${article.category}</span>
                        <span class="article-type">${typeInfo.icon} ${
          typeInfo.label
        }</span>
                        <span class="reading-time">üìñ ${readingTime} Min.</span>
                    </div>
                    <h3 class="article-title" data-index="${index}">${
          article.title
        }</h3>
                    ${previewContent}
                    <div class="article-footer">
                        <div class="article-meta">
                            <span>üë§ ${article.author || "AI Redakteur"}</span>
                        </div>
                        <div class="article-actions">
                            <button class="action-btn" title="Teilen">üì§</button>
                        </div>
                    </div>
                </div>
            `;

        return card;
      }

      function getArticleTypeInfo(type) {
        const found = articleTypes.find((t) => t.type === type);
        return (
          found || { type: "report", label: "Bericht", icon: "üìã", class: "" }
        );
      }

      function displayExperts(experts) {
        if (!experts || experts.length === 0) return;

        const container = document.getElementById("expertsList");
        container.innerHTML = experts
          .slice(0, 3)
          .map(
            (expert, index) => `
                <div class="expert-card">
                    <img src="${getUnsplashImageWithId(
                      expert.imageQuery || "professional portrait",
                      index + 100
                    )}"
                         alt="${expert.name}"
                         class="expert-avatar"
                         onerror="this.src='https://via.placeholder.com/60?text=üë§'">
                    <div class="expert-info">
                        <div class="expert-name">${expert.name}</div>
                        <div class="expert-role">${expert.role}</div>
                        <div class="expert-quote">"${expert.quote}"</div>
                    </div>
                </div>
            `
          )
          .join("");
      }

      function updateTrending(articles) {
        const list = document.getElementById("trendingList");
        list.innerHTML = articles
          .slice(0, 4)
          .map(
            (article, i) => `
                <li class="trending-item" onclick="openArticle(${i})">
                    <span class="trend-rank">${i + 1}</span>
                    <div class="trend-content">
                        <p class="trend-title">${article.title}</p>
                        <span class="trend-meta">${
                          getArticleTypeInfo(article.type).icon
                        } ${
              getArticleTypeInfo(article.type).label
            } ‚Ä¢ üìà ${Math.floor(Math.random() * 2000 + 500)} Leser</span>
                    </div>
                </li>
            `
          )
          .join("");
      }

      function updateTags(articles) {
        const allTags = new Set();
        articles.forEach((a) => {
          if (a.tags) a.tags.forEach((t) => allTags.add(t));
          allTags.add(a.category);
        });

        const cloud = document.getElementById("tagsCloud");
        cloud.innerHTML = Array.from(allTags)
          .slice(0, 10)
          .map((tag) => `<span class="tag">${tag}</span>`)
          .join("");
      }

      // ================================
      // Article Modal
      // ================================
      function openArticle(index) {
        const article = state.articles[index];
        if (!article) {
          showToast("‚ÑπÔ∏è Info", "Bitte erst Artikel generieren", "info");
          return;
        }

        const typeInfo = getArticleTypeInfo(article.type);

        // Set hero image
        const heroImage = document.getElementById("modalHeroImage");
        const heroPlaceholder = document.getElementById("modalHeroPlaceholder");

        if (state.useUnsplash && article.imageUrl) {
          heroImage.src = article.imageUrl;
          heroImage.style.display = "block";
          heroPlaceholder.style.display = "none";
        } else {
          heroImage.style.display = "none";
          heroPlaceholder.style.display = "flex";
          heroPlaceholder.textContent = article.emoji || "üì∞";
        }

        // Set type badge
        const typeBadge = document.getElementById("modalType");
        typeBadge.textContent = `${typeInfo.icon} ${typeInfo.label}`;
        typeBadge.className = `article-modal-type`;
        typeBadge.style.background = typeInfo.color;

        // Set basic info
        document.getElementById("modalTitle").textContent = article.title;
        document.getElementById("modalAuthor").textContent =
          article.author || "AI Redakteur";
        document.getElementById(
          "modalDate"
        ).textContent = `üìÖ ${new Date().toLocaleDateString("de-DE")}`;

        const words = article.content.split(" ").length;
        document.getElementById(
          "modalReadingTime"
        ).textContent = `üìñ ${Math.max(
          1,
          Math.ceil(words / 200)
        )} Min. Lesezeit`;

        // Set lead
        document.getElementById("modalLead").textContent =
          article.lead || article.teaser;

        // Format content based on article type
        let formattedContent = formatArticleContent(article);
        document.getElementById("modalContent").innerHTML = formattedContent;

        // Set tags
        const tagsHtml = (article.tags || [])
          .map((tag) => `<span class="tag">${tag}</span>`)
          .join("");
        document.getElementById("modalTags").innerHTML = tagsHtml;

        openModal("articleModal");
      }

      function formatArticleContent(article) {
        let content = article.content;
        let html = "";

        // Add interviewee info for interviews
        if (article.type === "interview" && article.interviewee) {
          html += `
                    <div class="interviewee-info">
                        <img src="${getUnsplashImageWithId(
                          article.interviewee.imageQuery ||
                            "professional portrait business",
                          Date.now()
                        )}"
                             alt="${article.interviewee.name}"
                             class="interviewee-avatar"
                             onerror="this.src='https://via.placeholder.com/80?text=üë§'">
                        <div class="interviewee-details">
                            <h4>${article.interviewee.name}</h4>
                            <p>${article.interviewee.role}</p>
                        </div>
                    </div>
                `;
        }

        // Process content
        const paragraphs = content.split("\n\n").filter((p) => p.trim());

        paragraphs.forEach((para) => {
          para = para.trim();

          // Handle headers
          if (para.startsWith("###")) {
            html += `<h3>${para.replace(/^###\s*/, "")}</h3>`;
          }
          // Handle interview Q&A
          else if (para.startsWith("F:") || para.startsWith("Frage:")) {
            const question = para.replace(/^(F:|Frage:)\s*/, "");
            html += `
                        <div class="interview-block">
                            <div class="interview-question">${question}</div>
                        `;
          } else if (para.startsWith("A:") || para.startsWith("Antwort:")) {
            const answer = para.replace(/^(A:|Antwort:)\s*/, "");
            html += `
                            <div class="interview-answer">${answer}</div>
                        </div>
                        `;
          }
          // Handle quotes
          else if (para.startsWith('"') && para.includes('" ‚Äì')) {
            const parts = para.split('" ‚Äì');
            html += `
                        <div class="quote-block">
                            <p>"${parts[0].replace(/^"/, "")}"</p>
                            <cite>‚Äì ${parts[1] || ""}</cite>
                        </div>
                        `;
          }
          // Handle info boxes (marked with [INFO])
          else if (para.includes("[INFO]")) {
            html += `
                        <div class="info-box">
                            <div class="info-box-title">‚ÑπÔ∏è Hintergrund</div>
                            <p>${para.replace("[INFO]", "").trim()}</p>
                        </div>
                        `;
          }
          // Regular paragraphs
          else {
            html += `<p>${para}</p>`;
          }
        });

        return html;
      }

      function copyArticle() {
        const title = document.getElementById("modalTitle").textContent;
        const content = document.getElementById("modalContent").innerText;
        navigator.clipboard.writeText(`${title}\n\n${content}`);
        showToast("üìã Kopiert", "Artikel in Zwischenablage kopiert", "success");
      }

      // ================================
      // Stats & Bookmarks
      // ================================
      function toggleBookmark(index) {
        if (state.bookmarks.has(index)) {
          state.bookmarks.delete(index);
        } else {
          state.bookmarks.add(index);
        }
        updateStats();
      }

      function updateStats() {
        const wordCount = state.articles.reduce(
          (sum, a) => sum + (a.content?.split(" ").length || 0),
          0
        );

        const interviewCount = state.articles.filter(
          (a) => a.type === "interview"
        ).length;
        const analysisCount = state.articles.filter(
          (a) => a.type === "analysis"
        ).length;

        document.getElementById("widgetArticleCount").textContent =
          state.articles.length;
        document.getElementById("widgetWordCount").textContent = wordCount;
        document.getElementById("widgetInterviews").textContent =
          interviewCount;
        document.getElementById("widgetAnalyses").textContent = analysisCount;
      }

      // ================================
      // UI Helpers
      // ================================
      function showLoading(show) {
        const overlay = document.getElementById("loadingOverlay");
        const btn = document.getElementById("generateBtn");

        if (show) {
          overlay.classList.add("active");
          btn.disabled = true;
          btn.querySelector(".btn-text").style.display = "none";
          btn.querySelector(".btn-loading").style.display = "inline";
        } else {
          overlay.classList.remove("active");
          btn.disabled = false;
          btn.querySelector(".btn-text").style.display = "inline";
          btn.querySelector(".btn-loading").style.display = "none";
        }
      }

      function updateLoadingStatus(text, progress) {
        document.getElementById("loadingStatus").textContent = text;
        document.getElementById("loadingProgress").style.width = `${progress}%`;
      }

      function showToast(title, message, type = "info") {
        if (!state.showNotifications) return;

        const icons = { success: "‚úÖ", error: "‚ùå", warning: "‚ö†Ô∏è", info: "‚ÑπÔ∏è" };

        const toast = document.createElement("div");
        toast.className = `toast ${type}`;
        toast.innerHTML = `
                <span class="toast-icon">${icons[type]}</span>
                <div class="toast-content">
                    <div class="toast-title">${title}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <button class="toast-close" onclick="this.parentElement.remove()">√ó</button>
            `;

        document.getElementById("toastContainer").appendChild(toast);

        setTimeout(() => {
          toast.style.opacity = "0";
          toast.style.transform = "translateX(100%)";
          setTimeout(() => toast.remove(), 300);
        }, 4000);
      }

      function delay(ms) {
        return new Promise((resolve) => setTimeout(resolve, ms));
      }

      // ================================
      // Start
      // ================================
      init();
    </script>
  </body>
</html>
